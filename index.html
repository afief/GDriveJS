<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>GDrive</title>
	
</head>
<body>
	
	<input type="file" onchange="fileChanged(this)">

	
	<script src="gdrivejs.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript" charset="utf-8">

		var gdrive = new GDriveJS();

		gdrive.clientId = "934500972974-l4mjfm9ka3r2n9k2dkt1t8v7cfpqk8d2.apps.googleusercontent.com";
		gdrive.scopes.push('https://www.googleapis.com/auth/drive.metadata.readonly');
		gdrive.scopes.push('https://www.googleapis.com/auth/drive.file');

		gdrive.load().then(init);
		function init() {
			gdrive.checkAuth().then(function() {
				console.info("AUTH SUCCESS");
				getFiles();
			}, function(err) {
				console.info("AUTH FAILED");
			});
		}
		function getFiles() {
			// gdrive.searchFolder("BCS", function(res) {
			// 	for (var i = 0; i < res.length; i++) {
			//  		console.log(res[i].title, res[i].id);
			//  	}
			// });
			
			gdrive.searchFolder("bcs").then(function(res) {
				var items = res.items;
				for (var i = 0; i < items.length; i++) {
			 		console.log(items[i].title, items[i].id);
			 	}
			 	gdrive.createFolder("mamasayange", items[0].id).then(function(res) {
					console.log("createFolder OK", res);
				});
			});
		}
		function fileChanged(fileData) {
			// if (fileData.files.length <= 0) return;

			// gdrive.searchFolder("bcs").then(function(res) {
			// 	var items = res.items;
			// 	for (var i = 0; i < items.length; i++) {
			//  		console.log(items[i].title, items[i].id);
			//  	}
			//  	gdrive.uploadFile(fileData.files[0], items[0].id);
			// });
		}
		
	</script>

</body>
</html>